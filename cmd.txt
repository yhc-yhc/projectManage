

cd C:\Program Files\MongoDB\Server\3.3\bin

mongod --dbpath=c:\data\db --port 22222                --replSet 192.168.0.106:33333

cd E:\nodeWorks\learn\m-e-n\myapp supervisor bin\www


db.runCommand({"replSetInitiate":{ "id":"zjl","members":[{ "_id":1, "host":"192.168.0.105:22222"},{ "_id":2, "host":"192.168.40.130:22222" }]}})


config = { _id:"replset", members:[{_id:0,host:"192.168.1.136:27017"}, {_id:1,host:"192.168.1.137:27017"},{_id:2,host:"192.168.1.138:27017"}]}

rs.initiate(config);

 rs.status();

#mongodb默认是从主节点读写数据的，副本节点上不允许读，需要设置副本节点可以读。
replset:SECONDARY> db.getMongo().setSlaveOk();
